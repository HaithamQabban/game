<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mouse Fire Effect</title>
<style>
  html,
  body {
    height: 100vh;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #101010;
  }

  #cursor {
    position: absolute;
    z-index: 1;
    filter: url('#goo');
    transform-origin: center;
    /* Set initial position to be on top of the mouse cursor */
    top: -15px; /* Adjust as needed */
    left: -15px; /* Adjust as needed */
  }

  .blob {
    position: absolute;
    top: 50%;
    left: 50%;
    pointer-events: none;
    background: #ff5733;
    border-radius: 50%;
    transform-origin: center;
    animation: flicker 1s infinite alternate;
  }

  .blob:nth-child(2) {
    background: #ff8b24;
    width: 25px;
    height: 60px;
    animation-duration: 0.8s;
  }

  .blob:nth-child(3) {
    background: #ffd700;
    width: 30px;
    height: 70px;
    animation-duration: 0.6s;
  }

  .blob:nth-child(4) {
    background: #ffdb58;
    width: 20px;
    height: 50px;
    animation-duration: 0.4s;
  }

  @keyframes flicker {
    0% {
      transform: scale(1);
    }
    100% {
      transform: scale(1.2);
    }
  }
</style>
</head>
<body>
<div id="cursor">
  <div class="blob"></div>
  <div class="blob"></div>
  <div class="blob"></div>
  <div class="blob"></div>
</div>
<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
  <defs>
    <filter id="goo">
      <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="my-blur" />
      <feColorMatrix in="my-blur" mode="matrix" values="
                1 0 0 0 0
                0 1 0 0 0
                0 0 1 0 0
                0 0 0 20 -8" result="my-gooey" />
    </filter>
  </defs>
</svg>
<script>
  /*--------------------
  Get Mouse
  --------------------*/
  let mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2, dir: '' };
  const getMouse = (e) => {
    mouse = {
      x: e.clientX || e.pageX || e.touches[0].pageX || 0,
      y: e.clientY || e.pageY || e.touches[0].pageY || 0,
      dir: (mouse.x > (e.clientX || e.pageX || e.touches[0].pageX)) ? 'left' : 'right'
    }
  };
  ['mousemove', 'touchstart', 'touchmove'].forEach(e => {
    window.addEventListener(e, getMouse);
  });

  /*--------------------
  Mouse Follow
  --------------------*/
  class MouseFollow {
    constructor(options) {
      Object.assign(this, options);
      this.pos = { x: 0, y: 0 };
    }

    follow() {
      this.distX = mouse.x - this.pos.x;
      this.distY = mouse.y - this.pos.y;
      this.velX = Math.abs(this.distX / 8);
      this.velY = Math.abs(this.distY / 8);
      this.pos.x += this.distX / (10 + (this.ind * 0.8));
      this.pos.y += this.distY / (10 + (this.ind * 0.8));
      this.scaleX = map(this.velX, 0, 100, 1, 2);
      this.scaleY = map(this.velY, 0, 100, 1, 2);
      this.el.style.transform = 'translate(' + this.pos.x + 'px, ' + this.pos.y + 'px) scale(' + Math.max(this.scaleX, this.scaleY) + ')';
    }
  }

  /*--------------------
  Map
  --------------------*/
  function map(num, in_min, in_max, out_min, out_max) {
    return (num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
  }

  /*--------------------
  Init
  --------------------*/
  const blobs = Array.from(document.querySelectorAll('#cursor .blob'));
  const blobFollows = blobs.map((e, i) => new MouseFollow({ el: e, ind: i }));

  /*--------------------
  Render
  --------------------*/
  const render = () => {
    requestAnimationFrame(render);
    blobFollows.forEach(e => e.follow());
  }
  render();
</script>
</body>
</html>
